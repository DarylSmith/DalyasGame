<html>

<head>
		<meta name="viewport" content="width=device-width, initial-scale=1">
	<link href="https://fonts.googleapis.com/css?family=Orbitron:400,900&display=swap" rel="stylesheet">
	<link rel="stylesheet" type="text/css" href="styles.css" />
	<script src="dalyasgame.js"></script>

	<script>



		//document.write(DalyasGame.OurRandomNumber);

		//check box and make sure someone add 3 numbers
		//if they didn't add three numbers add an error message-box

		document.addEventListener("DOMContentLoaded", () => {

			DalyasGame.GetScores();

			DalyasGame.ShowIntro();

			document.querySelector("#startGameButton").addEventListener('click', (event) => {


				DalyasGame.Init();
			});

			window.onanimationend= (e)=>{
				console.log(e);

				switch(e.animationName){

					case 'extend-console':
						console.log('doin-it');
						DalyasGame.DisplayScores();
					break;
					case 'ease-left':
						DalyasGame.NavigateToGamePageEnd();
					break;
					case 'ease-out-left':
						DalyasGame.NavigateToHomePageEnd();
					break;
					case 'flatten-console':
						DalyasGame.ShowIntro();
					break
				}
			}

			document.querySelector("#highScoreButton").addEventListener('click', (event)=>{

				let $rulesElem = document.querySelector("#rules");
				let $terminalElem = document.querySelector("#terminal");
				let $button = document.querySelector("#highScoreButton");

				if(DalyasGame.ElementIsHidden($rulesElem)){
					$rulesElem.style.display = "block";
					$terminalElem.classList.remove("extendConsole");
					$terminalElem.classList.add("flattenConsole");
					$button.innerHTML="High Scores";

				}
				else{
					$rulesElem.style.display = "none";
					$terminalElem.classList.add("extendConsole");
					$button.innerHTML="See Rules";

				}

			});

			document.querySelector("#gameText").focus();

			document.querySelector("#gameText").addEventListener('keydown',(event)=>{

				document.querySelector("#inputInner").classList.remove("has-cursor");
			});

			document.querySelector("#gameText").addEventListener('keyup', (event) => {

				console.log(event.target.value);
				if(event.target.value.length>=3 && DalyasGame.GameState === 'game_play'){
					DalyasGame.MakeSelection();
				}
				else if(event.target.value.toUpperCase()==='YES' &&  DalyasGame.GameState==='game_over'){
					DalyasGame.Init();
				}
				else if(event.target.value.toUpperCase()==='NO' &&  DalyasGame.GameState==='game_over'){
					DalyasGame.NavigateToHomePageStart();
				}
				else if(event.target.value.length==3 &&  DalyasGame.GameState==='high_score'){
					DalyasGame.SetScores(event.target.value);
				}

			});
		});


	</script>

</head>


<body>
	<div id="main-container">
		<div class="header">
			<h1>Dalya's Program</h1>
		</div>
		<section id="ruleSection">


			<div id="terminal">___</div>
			<div id="rules">
				Loading...
			</div>
			<div class="buttonContainer">
			<button id="startGameButton">I'm ready!</button>
			<button id="highScoreButton">High Scores</button>
			</div>

		</section>
		<section id="gameSection">

			<div id="mainBody">


				<div id="game" class="game-child">
			
					<div id="inputContainer">
							<label id="gamePlayLabel"> Input <span id="inputAction">guess</span> here </label>
						<span  id="inputInner"></span><input id="gameText" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"  placeholder="___" type="text" />
					</div>


					<div id="timerContainer">
						<label id="timerLabel"> Game Timer </label>
						<div id="timer">
						</div>
					</div>
					

					<div id="results"></div>


				</div>
				<div id="consoleContainer" class="game-child">
				<label id ="consoleLabel">Console</label>

				<div id="consoleText"></div>
					</div>
			</div>
	</div>
	</section>
	</div>
</body>



</html>